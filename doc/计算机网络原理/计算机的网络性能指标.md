## 一、计算机网络性能指标

### 1.1 速率（data rate/ bit rate - 比特率）

* 速率：连接在计算机网络上的主机在数字信道上传送数据位数的速率，单位 `b/s`、`kb/s`、`Mb/s`、`Gb/s`
* 在计算机中计算流量是按照字节算，1字节（byte） = 8 比特(bit)
* 1个比特就是二进制数字中的一个 1或0

```
信道：数据传输的通路，每个通信都是一个信道
速率：一个发送端，一个接收端，每秒两者之间传送多少个比特

---------                 200k - 速率                      ---------      
| 发送端 |  < -----------------------------------------  | 接收端 |
```

### 1.2 带宽

* 带宽：数据通信领域中，数字信道所能传送的最高数据率，单位 `b/s`、`kb/s`、`Mb/s`、`Gb/s`

### 1.3 吞吐量

* 单位时间内通过某个网络的数据量 - 指总量 ，单位 `b/s`、`Mb/s`等

### 1.4 时延

* 时延（延迟/迟延）：指数据从网络或链路的一端传送到另一端所需的时间。（数据可以是一个报文或分组或者比特）

* 总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延


**(1) 发送时延：主机或路由器发送数据帧所需要的时间**

**发送时延发生在机器的内部发送器中【一般发生在网络适配器中】**


```
            数据帧(块)长度(b)
发送时延 = --------------
            发送速率(b/s)
```

简单理解：从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。
比如一个文件从发出开始到发送完毕这一段时间。
            
**(2) 传播时延：电磁波在信道中传播一定的距离需要花费的时间**

**传播时延发生在机器外部的传输信道媒体中。**       

```
                      信道长度(m)
传播时延 = -----------------------------
            电磁波在信道上的传播速率(m/s)
```

| 介质 | 传播速率 （单位：km/s）|
|:-------:|:-----------------------:|
| 自由空间|  3.0 * 10^5 km/s |                   
| 铜线电缆|  2.3 * 10^5 km/s |                   
| 光纤|  2.0 * 10^5 km/s |            


**(3) 处理时延：主机或路由器在收到分组时需要花费一定的时间进行处理**

比如：分析分组的首部、从分组中提取数据部分、进行差错检验或查找适当的路由等等。

**(4) 排队时延：分组进入路由器后，需先在输入队列中排队等待处理。
    在路由器确定转发接口后，还需在输出队列等待处理。这就产生排队时延。**

排队时延的长短往往取决于网络当时的通信量。当网络的通信量很大时会发生队列溢出，使分组丢失，
这相当于排队时延为无穷大。

### 1.5 时延带宽积

```
时延带宽积 =  传播时延 * 带宽
```

链路的时延带宽积又称为以比特为单位的链路长度。

### 1.6 往返时间（RTT - Round-Trip Time）

往返时间表示从发送方发送数据开始，到发送方收到来自接收方的确认（接收方收到数据后立即发送确认），总共经历的时间。

在互联网中，往返时间还包括各中间结点的处理时延、排队时延以及转发数据时的发送时延。

**往返时间与所发送的分组长度有关。**

可使用 ping 测试   

### 1.7 利用率

* 信道利用率：某信道有百分之几的时间是被利用的 - 有数据通过

```
                 有数据通过时间
信道利用率 = ----------------------
             （有 + 无）数据通过时间
```

* 网络利用率：全网络的信道利用率的加权平均值。

```
D: 网络当前的时延   D0: 网络空闲时的时延  U：网络利用率（0 - 1）
        D0
D = ----------
      1 - U
```

**信道或网络利用率过高会产生非常大的时延。** 
信道利用率不要超过50%，如果超过就需要扩容，增大线路的带宽。

